<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<!-- <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700&display=swap" rel="stylesheet"> -->
<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:600,600i,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet"> 

<link rel="stylesheet" href="/assets/css/tailwind.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/cards.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100&display=swap" rel="stylesheet">
<title>Installing Jira with MySQL</title>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125808593-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125808593-1');
</script>



<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Installing Jira with MySQL | recluze - Nauman (recluze) on Computing, Philosophy and More …</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Installing Jira with MySQL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jira is an extremely well-known issue tracking system and is used widely for project management in a wide array of fields. It has quite a detailed documentation but it’s in the form of a wiki and as we all know, wikis are the worst way of creating software documentation. Anyway, in order to install Jira with MySQL, you will have to click and click and click. This tutorial aims to ease this issue by providing step-by-step instructions on how to install jira and enable it to connect with MySQL for storage. So let’s begin." />
<meta property="og:description" content="Jira is an extremely well-known issue tracking system and is used widely for project management in a wide array of fields. It has quite a detailed documentation but it’s in the form of a wiki and as we all know, wikis are the worst way of creating software documentation. Anyway, in order to install Jira with MySQL, you will have to click and click and click. This tutorial aims to ease this issue by providing step-by-step instructions on how to install jira and enable it to connect with MySQL for storage. So let’s begin." />
<meta property="og:site_name" content="recluze - Nauman (recluze) on Computing, Philosophy and More …" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-01-14T12:13:51+05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Installing Jira with MySQL" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Installing Jira with MySQL","dateModified":"2011-01-14T12:13:51+05:00","datePublished":"2011-01-14T12:13:51+05:00","description":"Jira is an extremely well-known issue tracking system and is used widely for project management in a wide array of fields. It has quite a detailed documentation but it’s in the form of a wiki and as we all know, wikis are the worst way of creating software documentation. Anyway, in order to install Jira with MySQL, you will have to click and click and click. This tutorial aims to ease this issue by providing step-by-step instructions on how to install jira and enable it to connect with MySQL for storage. So let’s begin.","url":"/2011/01/14/installing-jira-with-mysql/","mainEntityOfPage":{"@type":"WebPage","@id":"/2011/01/14/installing-jira-with-mysql/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="texture-blue">
    <div class="container"><div class="navbar">
	<ul>
		
		<a href="/"><li  >Home</li></a>
		
		<a href="/about"><li  >About</li></a>
		
		<a href="/learn"><li  >Courses</li></a>
		
	</ul>
</div></div><div class="container">
	<h1>Installing Jira with MySQL</h1>
	<h4 class="post-description"></h4>
	<div class="post-date" style="margin-top:20px">
		Published on Jan 14, 2011
	</div>
	<ul class="post-tags"><li>Geek stuff</li><li>Linux</li><li>Tutorials</li></ul>
</div>
</header>
  <main>
    <div class="container">
      <div class="post-container">
          <p>Jira is an extremely well-known issue tracking system and is used widely for project management in a wide array of fields. It has quite a detailed documentation but it’s in the form of a wiki and as we all know, wikis are the worst way of creating software documentation. Anyway, in order to install Jira with MySQL, you will have to click and click and click. This tutorial aims to ease this issue by providing step-by-step instructions on how to install jira and enable it to connect with MySQL for storage. So let’s begin.</p>

<p>Note: These instructions are for the standalone version of Jira. You can use them quite easily for the WAR/EAR version but if you’re going on that route, you probably don’t need this article.</p>

<p>Ok, first download and install Java (I usually go with JDK) – version 6 is preferred. You can get the .bin file for Linux from java.sun.com (I refuse to call it Oracle Java). Make it executable and run it. JDK will be extracted in your current directory. Move it to /usr/share. Then set the JAVA_HOME variable.</p>

<p>[sourcecode lang=”bash”]<br />
JAVA_HOME=/usr/share/jdk1.6.0_23<br />
export JAVA_HOME<br />
[/sourcecode]</p>

<p>You might want to set this in your <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> file.</p>

<p>Next, create a user with which we will start jira – for security reasons.</p>

<p>[sourcecode lang=”bash”]<br />
sudo /usr/sbin/useradd –create-home –home-dir /usr/local/jira –shell /bin/bash jira<br />
[/sourcecode]</p>

<p>Download and extract the jira standalone .tar.gz file to /usr/local/jira and change ownership of all the files to the jira user:</p>

<p>[sourcecode lang=”bash”]<br />
chown jira:jira /usr/local/jira -R<br />
[/sourcecode]</p>

<p>Open port 8080 which is used by jira (by default) – edit the file <code class="language-plaintext highlighter-rouge">/etc/sysconfig/iptables</code> and enter the following rule:</p>

<p>[sourcecode lang=”bash”]<br />
-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT<br />
[/sourcecode]</p>

<p>Set the required jira.home property in the file <code class="language-plaintext highlighter-rouge">/usr/local/jira/atlassian-jira/WEB-INF/classes/jira-application.properties</code></p>

<p>[sourcecode lang=”bash”]<br />
mkdir /usr/local/jira/jirahome<br />
vi /usr/local/jira/atlassian-jira/WEB-INF/classes/jira-application.properties</p>
<h1 id="set-the-variable-jirahome-to-usrlocaljirajirahome">set the variable jira.home to /usr/local/jira/jirahome</h1>
<p>[/sourcecode]</p>

<p>Restart the firewall and start jira using the following command:</p>

<p>[sourcecode lang=”bash”]<br />
sudo -u jira nohup /usr/local/jira/bin/catalina.sh run &amp; &gt; jira-nohup.log<br />
[/sourcecode]</p>

<p>The use of sudo will run jira as the user <code class="language-plaintext highlighter-rouge">jira</code> and <code class="language-plaintext highlighter-rouge">nohup</code> will ensure that jira won’t stop running as soon as you close the shell. The output produced by the command will be saved to <code class="language-plaintext highlighter-rouge">jira-nohup.log </code></p>

<p>Open the browser on location <code class="language-plaintext highlighter-rouge">http://your.ip.add.ress:8080/</code> and ensure that you can see the jira setup page. Don’t bother proceeding with the setup because as soon as we connect jira to MySQL, this information will be lost. Let’s do that now.</p>

<p><strong>Connecting with MySQL</strong></p>

<p>Begin by stopping jira, installing mysql server, setting it to always start on system startup and starting the server.</p>

<p>[sourcecode lang=”bash”]<br />
/usr/local/jira/bin/shutdown.sh<br />
yum install mysql mysql-server<br />
chkconfig mysql on<br />
service mysqld start<br />
[/sourcecode]</p>

<p>Then start mysql, create a database and user for jira and assign all rights to the new user on the new database.</p>

<p>[sourcecode lang=”bash”]<br />
mysql<br />
create database jiradb character set utf8;<br />
grant all privileges on jiradb.* to jira@localhost identified by ‘[your new password]’;<br />
q<br />
[/sourcecode]</p>

<p>Now, edit the <code class="language-plaintext highlighter-rouge">conf/server.xml</code> in the jira directory and change the data source as follows:</p>

<p>[sourcecode lang=”bash”]<br />
&lt;Resource name=”jdbc/JiraDS” auth=”Container” type=”javax.sql.DataSource”<br />
 username=”jira”<br />
 password=”[jira user password]”<br />
 driverClassName=”com.mysql.jdbc.Driver”<br />
 url=”jdbc:mysql://localhost/jiradb?useUnicode=true&amp;characterEncoding=UTF8”<br />
 maxActive=”20”<br />
 validationQuery=”select 1”/&gt;<br />
[/sourcecode]</p>

<p>Note that the ampersand code in the connection string is not a formatting problem. It really has to say amp with an ampersand and a semicolon at either end.</p>

<p>Finally, edit the <code class="language-plaintext highlighter-rouge">atlassian-jira/WEB-INF/classes/entityengine.xml</code> file to set the final attribute:</p>

<p>[sourcecode lang=”bash”]<br />
&lt;datasource name=”defaultDS” field-type-name=”mysql”<br />
 helper-class=”org.ofbiz.core.entity.GenericHelperDAO”<br />
 check-on-start=”true”<br />
 use-foreign-keys=”false” …<br />
[/sourcecode]</p>

<p>Delete the <code class="language-plaintext highlighter-rouge">schema-name="PUBLIC"</code> attribute immediately after the changed line to ensure that the database is populated properly.</p>

<p>Start jira once again and now you can enter the setup information. Open MySQL and ensure that jira is, in fact, using this engine.</p>


      </div>

        <!-- Configure Disqus --></div>
  </main><footer class="footer">
  <span class="text-muted"> recluze | No rights reserved.</span>
</footer>
</body>
</html>