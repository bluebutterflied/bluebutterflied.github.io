<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<!-- <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700&display=swap" rel="stylesheet"> -->
<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:600,600i,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet"> 

<link rel="stylesheet" href="/assets/css/tailwind.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/cards.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100&display=swap" rel="stylesheet">
<title>Creating Multiple Volumes on Amazon EC2</title>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125808593-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125808593-1');
</script>



<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Creating Multiple Volumes on Amazon EC2 | recluze - Nauman (recluze) on Computing, Philosophy and More …</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Creating Multiple Volumes on Amazon EC2" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="For those of you who have used Amazon AWS (EC2 specifically) for more than just testing would know that the / partition in an AMI does not go beyond 10GB. So, if you need more space you need to mount more volumes. This is a beginner’s guide to do just that." />
<meta property="og:description" content="For those of you who have used Amazon AWS (EC2 specifically) for more than just testing would know that the / partition in an AMI does not go beyond 10GB. So, if you need more space you need to mount more volumes. This is a beginner’s guide to do just that." />
<meta property="og:site_name" content="recluze - Nauman (recluze) on Computing, Philosophy and More …" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-01-03T10:38:05+05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Creating Multiple Volumes on Amazon EC2" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Creating Multiple Volumes on Amazon EC2","dateModified":"2011-01-03T10:38:05+05:00","datePublished":"2011-01-03T10:38:05+05:00","description":"For those of you who have used Amazon AWS (EC2 specifically) for more than just testing would know that the / partition in an AMI does not go beyond 10GB. So, if you need more space you need to mount more volumes. This is a beginner’s guide to do just that.","url":"/2011/01/03/creating-multiple-volumes-on-amazon-ec2/","mainEntityOfPage":{"@type":"WebPage","@id":"/2011/01/03/creating-multiple-volumes-on-amazon-ec2/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="texture-blue">
    <div class="container"><div class="navbar">
	<ul>
		
		<a href="/"><li  >Home</li></a>
		
		<a href="/about"><li  >About</li></a>
		
		<a href="/learn"><li  >Courses</li></a>
		
	</ul>
</div></div><div class="container">
	<h1>Creating Multiple Volumes on Amazon EC2</h1>
	<h4 class="post-description"></h4>
	<div class="post-date" style="margin-top:20px">
		Published on Jan 3, 2011
	</div>
	<ul class="post-tags"><li>Cloud</li><li>Geek stuff</li><li>Linux</li><li>Tutorials</li></ul>
</div>
</header>
  <main>
    <div class="container">
      <div class="post-container">
          <p>For those of you who have used Amazon AWS (EC2 specifically) for <a href="http://www.csrdu.org/nauman/2010/09/30/getting-started-with-amazon-ec2-install-configure-connect/">more than just testing</a> would know that the / partition in an AMI does not go beyond 10GB. So, if you need more space you need to mount more volumes. This is a beginner’s guide to do just that.</p>

<p>First off, create an AMI with EBS storage type and take a note of the zone in which that AMI sits. You can find this through the details pane in the ‘instances’ section of your AWS management console. Then, go over to the ‘volumes’ section and create a new volume.</p>

<p><a href="http://recluze.files.wordpress.com/2011/01/ec2-create-volume.png"><img src="/assets/images/2011/01/ec2-create-volume-300x134.png" alt="" title="Create Volumes with EC2" /></a></p>

<p>Here, you need to make sure that you create the volume in the same zone as your AMI or you won’t be able to use the volume with it. Specify the capacity of the volume. That’s all that’s required at this stage. Click create and wait until the new volume becomes available. Then right-click on the volume and ‘Attach Volume’. Make sure you select the right instance and then specify the new device name. You can use something like ‘/dev/sdd’. Just use fdisk -l in your running instance to make sure it’s not already in use.</p>

<p>After that, login to your AMI and fdisk -l again to make sure that the new volume is available. Now, you need to create a partition and format it for linux to use. Then, mount it someplace. Here we’re going to move the whole /var to this new partition so that our logs etc can have more free space to grow.</p>

<p>[sourcecode lang=”bash”]<br />
mkfs.ext3 /dev/sdd<br />
mkdir /mnt/var<br />
mount /dev/sdd /mnt/var<br />
cp -R /var/* /mnt/var<br />
touch /mnt/var/new-vol<br />
[/sourcecode]</p>

<p>The last line is there to verify after boot that you are indeed using the newly volume. You can also use df -h after reboot to test this but I just feel better this way.</p>

<p>Finally, open up the /etc/fstab file and enter the new device /dev/sdd and the mount point /var.</p>

<p>[sourcecode lang=”bash”]<br />
/dev/sdd /var ext3 defaults 0 0<br />
[/sourcecode]</p>

<p>And reboot.</p>


      </div>

        <!-- Configure Disqus --></div>
  </main><footer class="footer">
  <span class="text-muted"> recluze | No rights reserved.</span>
</footer>
</body>
</html>